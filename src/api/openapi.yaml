openapi: 3.0.3
info:
  title: FirstSpirit Connect for Commerce - Bridge API
  description: "# Introduction\n\nThe Bridge API serves as a REST interface which\
    \ is able to fetch content, product and category information from any shop backend\
    \ and to display them in reports in the FirstSpirit ContentCreator.\n\nIn order\
    \ to connect the Bridge API with a given shop backend a Bridge is needed.\nIt\
    \ acts as a microservice between the shop backend and FirstSpirit.\nFurther information\
    \ about how to implement and use a Bridge can be found in the official [documentation](https://docs.e-spirit.com/ecom/fsconnect-com/FirstSpirit_Connect_for_Commerce_Documentation_EN.html).\n\
    \n# Authentication\n\nThe Bridge API supports HTTP Basic Authentication in order\
    \ to secure the API endpoints.\nIn this case it expects a specific HTTP header\
    \ where the client credentials are encoded in base64. Client credentials consist\
    \ of a custom username and password.\n\nExample:\n```\ncurl -u username:password\
    \ -i -H 'Accept:application/json' http://example.com\n```\n\nThe Bridge itself\
    \ requires Basic Auth to provide a secure data exchange with FirstSpirit.\n\n\
    # Errors\n\nSuccess or failure of an API request is indicated by HTTP status codes.\n\
    Status codes starting with ```2xx``` indicate success whereas codes starting with\
    \ ```4xx``` or ```5xx``` indicate that an error occured.\n\n| Status Code    \
    \   | Description                                                            \
    \    |\n|-------------------|----------------------------------------------------------------------------|\n\
    |      200          | The request was successful.                            \
    \                    |\n|      201          | The request was successful and the\
    \ resource was created/updated.           |\n|      400          | The request\
    \ failed due to incorrect or missing parameters.                 |\n|      401\
    \          | The request failed due to invalid or missing authentication credentials.\
    \   |\n|      404          | The requested resource doesn't exist.           \
    \                           |\n|      500          | The request failed due to\
    \ an internal server error.                        |\n"
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  version: 1.0.0
  x-logo:
    url: e-Spirit_Logo2021_RGB_colour_black_XL_transp.png
    altText: e-Spirit logo
servers:
  - url: /api
security:
  - basicAuth: []
tags:
  - name: Categories
    description: The Categories endpoint fetches all available categories from any given
      shop backend which can be displayed in the category report inside the FirstSpirit
      ContentCreator. It is not intended to process all available category information
      from the shop backend.
  - name: ContentPages
    description: The contentpages endpoint fetches existing content pages from any given
      shop backend. Existing content pages like the Homepage as well as custom FirstSpirit-driven
      pages can be displayed in the content report inside the FirstSpirit ContentCreator.
  - name: Mapping
    description: The Mapping endpoint provides the mapping between the Bridge API endpoints
      and any given commerce interface. It is possible to build or deconstruct a storefront
      url either for the storefront itself or for FirstSpirit.
  - name: Products
    description: The Products endpoint fetches product information from any given shop
      backend which can be displayed in the product report inside the FirstSpirit ContentCreator.
      It is not intended to provide all available product information from the shop
      backend.
paths:
  /categories/ids/{categoryIds}:
    get:
      tags:
        - Categories
      summary: Get list of Categories by their IDs.
      description: Returns a list of categories from the shop backend that match the
        given categoryIds.
      operationId: categoriesCategoryIdsGet
      parameters:
        - name: categoryIds
          in: path
          description: Get one or more categories by their categoryIds (comma-separated).
          required: true
          style: simple
          explode: false
          schema:
            type: array
            items:
              type: string
          example:
            - cat-1
            - cat-2
        - name: lang
          in: query
          description: The language to localize the label
          required: false
          style: form
          explode: true
          schema:
            type: string
          example: EN
      responses:
        "200":
          description: List of Categories or `null` if it does not exist.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Category'
                x-content-type: application/json
              examples:
                Category List:
                  $ref: '#/components/examples/CategoryListById'
        "401":
          description: Authentication information is missing or invalid
          headers:
            WWW_Authenticate:
              style: simple
              explode: false
              schema:
                type: string
      security:
        - basicAuth: []
      x-swagger-router-controller: Categories
  /categories/{categoryIds}:
    get:
      tags:
        - Categories
      summary: Get list of Categories by their IDs.
      description: "Deprecated: Please use /categories/ids/{categoryIds} instead.\
        \ \n Returns a list of categories from the shop backend that match the given\
        \ categoryIds."
      operationId: categoriesCategoryIdsGetOld
      parameters:
        - name: categoryIds
          in: path
          description: Get one or more categories by their categoryIds (comma-separated).
          required: true
          style: simple
          explode: false
          schema:
            type: array
            items:
              type: string
          example:
            - cat-1
            - cat-2
        - name: lang
          in: query
          description: The language to localize the label
          required: false
          style: form
          explode: true
          schema:
            type: string
          example: EN
      responses:
        "200":
          description: List of Categories or `null` if it does not exist.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Category'
                x-content-type: application/json
              examples:
                Category List:
                  $ref: '#/components/examples/CategoryListById'
        "401":
          description: Authentication information is missing or invalid
          headers:
            WWW_Authenticate:
              style: simple
              explode: false
              schema:
                type: string
      deprecated: true
      security:
        - basicAuth: []
      x-swagger-router-controller: Categories
  /categories/ids:
    head:
      tags:
        - Categories
      summary: Support new Category endpoint
      description: "Checks if the [new Category endpoint](#/Categories/categoriesCategoryIdsGet)\
        \ is implemented.\n\nIf it is not implemented the old endpoint will be used."
      operationId: categoriesCategoryIdsHead
      responses:
        "200":
          description: New Category endpoint exists.
        "404":
          description: New Category endpoint doesn't exist.
      security:
        - basicAuth: []
      x-swagger-router-controller: Categories
  /categories:
    get:
      tags:
        - Categories
      summary: Get Categories
      description: "Returns all available categories from the shop backend in the\
        \ specified language.\n\nIf the specified language is not defined for a category\
        \ or none was set, it displays all categories in the master language by default."
      operationId: categoriesGet
      parameters:
        - name: parentId
          in: query
          description: Filter by parentId. It returns all related categories and subcategories
            from the category tree.
          required: false
          style: form
          explode: true
          schema:
            type: string
          example: cat-1
        - name: lang
          in: query
          description: The language to localize the label
          required: false
          style: form
          explode: true
          schema:
            type: string
          example: EN
        - name: page
          in: query
          description: Specific result page
          required: false
          style: form
          explode: true
          schema:
            minimum: 1
            type: integer
            default: 1
      responses:
        "200":
          description: Categories
          headers:
            X-HasNext:
              $ref: '#/components/headers/hasNext'
            X-Total:
              $ref: '#/components/headers/total'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Labelled'
                x-content-type: application/json
              examples:
                Categories:
                  $ref: '#/components/examples/Categories'
        "401":
          description: Authentication information is missing or invalid
          headers:
            WWW_Authenticate:
              style: simple
              explode: false
              schema:
                type: string
      security:
        - basicAuth: []
      x-swagger-router-controller: Categories
  /categories/tree:
    get:
      tags:
        - Categories
      summary: Get Category Tree
      description: "Returns the category tree in the specified language.\n\nIf the\
        \ specified language is not defined for a category or none was set, it displays\
        \ all categories in the master language by default."
      operationId: categoryTreeGet
      parameters:
        - name: parentId
          in: query
          description: Filter by parentId
          required: false
          style: form
          explode: true
          schema:
            type: string
          example: cat-1
        - name: lang
          in: query
          description: The language to localize the label
          required: false
          style: form
          explode: true
          schema:
            type: string
          example: EN
      responses:
        "200":
          description: Category Tree
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Category'
                x-content-type: application/json
              examples:
                Category Tree:
                  $ref: '#/components/examples/CategoryTree'
        "401":
          description: Authentication information is missing or invalid
          headers:
            WWW_Authenticate:
              style: simple
              explode: false
              schema:
                type: string
      security:
        - basicAuth: []
      x-swagger-router-controller: Categories
    head:
      tags:
        - Categories
      summary: Support Category Tree
      description: "Checks if the category tree endpoint is available. It is activated\
        \ by default.\n\nIf it is not available, the dropdown for the category tree\
        \ in the ContentCreator is not displayed in both the category and the product\
        \ report."
      operationId: categoryTreeHead
      responses:
        "200":
          description: Category tree endpoint exists
        "404":
          description: Category tree endpoint doesn't exist
      security:
        - basicAuth: []
      x-swagger-router-controller: Categories
  /contentpages/{contentId}:
    put:
      tags:
        - ContentPages
      summary: Update Content Page
      description: Edit information of a Content Page. Changes are reflected in both
        the storefront and in the page reference in FirstSpirit.
      operationId: contentPagesContentIdPut
      parameters:
        - name: contentId
          in: path
          description: Update content page by contentId
          required: true
          style: simple
          explode: false
          schema:
            type: string
          example: homepage
        - name: lang
          in: query
          description: The language to localize the label
          required: false
          style: form
          explode: true
          schema:
            type: string
          example: EN
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ContentPage'
            examples:
              Content Page:
                $ref: '#/components/examples/ContentPage'
        required: true
      responses:
        "201":
          description: Update successful
        "401":
          description: Authentication information is missing or invalid
          headers:
            WWW_Authenticate:
              style: simple
              explode: false
              schema:
                type: string
        "404":
          description: Content Page not found
      security:
        - basicAuth: []
      x-swagger-router-controller: ContentPages
    delete:
      tags:
        - ContentPages
      summary: Delete Content Page
      description: Remove a Content Page from the Storefront and its page reference
        in FirstSpirit.
      operationId: contentPagesContentIdDelete
      parameters:
        - name: contentId
          in: path
          description: Delete content page by contentId
          required: true
          style: simple
          explode: false
          schema:
            type: string
        - name: lang
          in: query
          description: The language to localize the label
          required: false
          style: form
          explode: true
          schema:
            type: string
          example: EN
      responses:
        "204":
          description: Deletion successful
        "401":
          description: Authentication information is missing or invalid
          headers:
            WWW_Authenticate:
              style: simple
              explode: false
              schema:
                type: string
      security:
        - basicAuth: []
      x-swagger-router-controller: ContentPages
  /contentpages/ids/{contentIds}:
    get:
      tags:
        - ContentPages
      summary: Get list of Content Pages by IDs
      description: Returns a list of Content Pages which match the given contentIds.
      operationId: contentPagesContentIdsGet
      parameters:
        - name: contentIds
          in: path
          description: Get one or more content pages by contentIds (comma-separated)
          required: true
          style: simple
          explode: false
          schema:
            type: array
            items:
              type: string
          example:
            - homepage
            - my-custom-page
        - name: lang
          in: query
          description: The language to localize the label
          required: false
          style: form
          explode: true
          schema:
            type: string
          example: EN
      responses:
        "200":
          description: List of Content Pages or `null` if it does not exist
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Labelled'
                x-content-type: application/json
              examples:
                Content Page List:
                  $ref: '#/components/examples/ContentPageListById'
        "401":
          description: Authentication information is missing or invalid
          headers:
            WWW_Authenticate:
              style: simple
              explode: false
              schema:
                type: string
      security:
        - basicAuth: []
      x-swagger-router-controller: ContentPages
  /contentpages:
    get:
      tags:
        - ContentPages
      summary: Get a list of Content Pages
      description: Returns a pageable list of Content Pages which can be filtered
        using the query parameters listed below.
      operationId: contentPagesGet
      parameters:
        - name: q
          in: query
          description: Fulltext search query string
          required: false
          style: form
          explode: true
          schema:
            type: string
          example: page
        - name: lang
          in: query
          description: The language to localize the label
          required: false
          style: form
          explode: true
          schema:
            type: string
          example: EN
        - name: page
          in: query
          description: Specific result page
          required: false
          style: form
          explode: true
          schema:
            minimum: 1
            type: integer
            default: 1
      responses:
        "200":
          description: List of Content Pages
          headers:
            X-HasNext:
              $ref: '#/components/headers/hasNext'
            X-Total:
              $ref: '#/components/headers/total'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Labelled'
                x-content-type: application/json
              examples:
                Content Page List:
                  $ref: '#/components/examples/ContentPageList'
        "401":
          description: Authentication information is missing or invalid
          headers:
            WWW_Authenticate:
              style: simple
              explode: false
              schema:
                type: string
      security:
        - basicAuth: []
      x-swagger-router-controller: ContentPages
    post:
      tags:
        - ContentPages
      summary: Create Content Page
      description: Create a new Content Page in the storefront and its page reference
        in FirstSpirit.
      operationId: contentPagesPost
      parameters:
        - name: lang
          in: query
          description: The language to localize the label
          required: false
          style: form
          explode: true
          schema:
            type: string
          example: EN
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ContentPage'
            examples:
              Content Page:
                $ref: '#/components/examples/ContentPage'
        required: true
      responses:
        "200":
          description: Identifier Object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IdProviding'
              examples:
                Content Page:
                  $ref: '#/components/examples/ContentPageResponse'
        "400":
          description: Bad Request. Missing or incorrect parameters
        "401":
          description: Authentication information is missing or invalid
          headers:
            WWW_Authenticate:
              style: simple
              explode: false
              schema:
                type: string
      security:
        - basicAuth: []
      x-swagger-router-controller: ContentPages
    head:
      tags:
        - ContentPages
      summary: Support Content Report
      description: |-
        Checks if the Content Report exists in the FirstSpirit module.

        The Content Report is used to display existing content pages from the shop in FirstSpirit. By default the Content Report is activated.
      operationId: contentPagesHead
      responses:
        "200":
          description: Content Report exists
        "404":
          description: Content Report doesn't exist
      security:
        - basicAuth: []
      x-swagger-router-controller: ContentPages
  /lookup-url:
    get:
      tags:
        - Mapping
      summary: Get Storefront URL Identifier
      description: Returns an Identifier for a given Storefront URL which is used
        in FirstSpirit to identify the page.
      operationId: lookupUrlGet
      parameters:
        - name: url
          in: query
          description: Storefront Url
          required: true
          style: form
          explode: true
          schema:
            type: string
            format: url
          example: https://mycommerce.com/catalog/category-1-1/prod-x
      responses:
        "200":
          description: Identifier Object or `null` if not exists
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IdentifierObject'
              examples:
                Product Page:
                  $ref: '#/components/examples/ProductPage'
                Does not exist in Storefront:
                  $ref: '#/components/examples/NotExist'
        "401":
          description: Authentication information is missing or invalid
          headers:
            WWW_Authenticate:
              style: simple
              explode: false
              schema:
                type: string
      security:
        - basicAuth: []
      x-swagger-router-controller: Mapping
  /products:
    get:
      tags:
        - Products
      summary: Get list of Products
      description: Returns a pageable list of products from the shop backend which
        can be filtered using the query parameters listed below.
      operationId: productsGet
      parameters:
        - name: categoryId
          in: query
          description: Filter by categoryId
          required: false
          style: form
          explode: true
          schema:
            type: string
          example: cat-1
        - name: q
          in: query
          description: Fulltext search query string
          required: false
          style: form
          explode: true
          schema:
            type: string
          example: page
        - name: lang
          in: query
          description: The language to localize the label
          required: false
          style: form
          explode: true
          schema:
            type: string
          example: EN
        - name: page
          in: query
          description: Specific result page
          required: false
          style: form
          explode: true
          schema:
            minimum: 1
            type: integer
            default: 1
      responses:
        "200":
          description: List of Products
          headers:
            X-HasNext:
              $ref: '#/components/headers/hasNext'
            X-Total:
              $ref: '#/components/headers/total'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Product'
                x-content-type: application/json
              examples:
                Product List:
                  $ref: '#/components/examples/ProductList'
        "401":
          description: Authentication information is missing or invalid
          headers:
            WWW_Authenticate:
              style: simple
              explode: false
              schema:
                type: string
      security:
        - basicAuth: []
      x-swagger-router-controller: Products
  /products/ids/{productIds}:
    get:
      tags:
        - Products
      summary: Get list of Products by IDs
      description: Returns a list of products from the shop backend which match the
        given productIds.
      operationId: productsProductIdsGet
      parameters:
        - name: productIds
          in: path
          description: Get one or more products by productIds (comma-separated)
          required: true
          style: simple
          explode: false
          schema:
            type: array
            items:
              type: string
          example:
            - prod-1
            - prod-2
        - name: lang
          in: query
          description: The language to localize the label
          required: false
          style: form
          explode: true
          schema:
            type: string
          example: EN
      responses:
        "200":
          description: List of Products or `null` if it does not exist
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Product'
                x-content-type: application/json
              examples:
                Product List:
                  $ref: '#/components/examples/ProductListById'
        "401":
          description: Authentication information is missing or invalid
          headers:
            WWW_Authenticate:
              style: simple
              explode: false
              schema:
                type: string
      security:
        - basicAuth: []
      x-swagger-router-controller: Products
  /products/{productIds}:
    get:
      tags:
        - Products
      summary: Get list of Products by IDs
      description: "Deprecated: Please use /products/ids/{productIds} instead. \n\
        \ Returns a list of products from the shop backend which match the given productIds."
      operationId: productsProductIdsGetOld
      parameters:
        - name: productIds
          in: path
          description: Get one or more products by productIds (comma-separated)
          required: true
          style: simple
          explode: false
          schema:
            type: array
            items:
              type: string
          example:
            - prod-1
            - prod-2
        - name: lang
          in: query
          description: The language to localize the label
          required: false
          style: form
          explode: true
          schema:
            type: string
          example: EN
      responses:
        "200":
          description: List of Products or `null` if it does not exist.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Product'
                x-content-type: application/json
              examples:
                Product List:
                  $ref: '#/components/examples/ProductListById'
        "401":
          description: Authentication information is missing or invalid
          headers:
            WWW_Authenticate:
              style: simple
              explode: false
              schema:
                type: string
      deprecated: true
      security:
        - basicAuth: []
      x-swagger-router-controller: Products
  /products/ids:
    head:
      tags:
        - Products
      summary: Support new Products endpoint
      description: "Checks if the [new Product endpoint](#/Products/productsProductIdsGet)\
        \ is implemented.\n\nIf it is not implemented the old endpoint will be used."
      operationId: productsProductIdsHead
      responses:
        "200":
          description: New Category endpoint exists.
        "404":
          description: New Category endpoint doesn't exist.
      security:
        - basicAuth: []
      x-swagger-router-controller: Products
  /storefront-url:
    get:
      tags:
        - Mapping
      summary: Get Storefront URL
      description: Returns a Storefront URL which is build out of the given identifier
        properties in FirstSpirit.
      operationId: storefrontUrlGet
      parameters:
        - name: type
          in: query
          description: Page Type
          required: true
          style: form
          explode: true
          schema:
            type: string
            enum:
              - category
              - product
              - content
        - name: id
          in: query
          description: Unique Identifier
          required: true
          style: form
          explode: true
          schema:
            pattern: "^[^,\\\\\\s]+$"
            type: string
        - name: lang
          in: query
          description: The language to localize the label
          required: false
          style: form
          explode: true
          schema:
            type: string
          example: EN
      responses:
        "200":
          description: A Storefront URL or `null` if not exists
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StorefrontUrl'
              examples:
                Product Storefront Url:
                  $ref: '#/components/examples/StorefrontUrl'
                URL not found in Storefront:
                  $ref: '#/components/examples/UrlNotFound'
        "401":
          description: Authentication information is missing or invalid
          headers:
            WWW_Authenticate:
              style: simple
              explode: false
              schema:
                type: string
      security:
        - basicAuth: []
      x-swagger-router-controller: Mapping
components:
  schemas:
    Category:
      required:
        - id
        - label
      type: object
      properties:
        id:
          pattern: " ^[^,\\\\\\s]+$"
          type: string
          description: "Unique Identifier. Commas, backslashes or whitespace characters\
            \ are forbidden"
        label:
          type: string
          description: Localized label
        extract:
          type: string
          description: Extract. Identifier which is used as part of the url.
        children:
          type: array
          description: Nested categories containing an id and a label
          items:
            $ref: '#/components/schemas/Category'
      example:
        extract: extract
        children:
          - null
          - null
        id: id
        label: label
    Labelled:
      required:
        - id
        - label
      type: object
      properties:
        id:
          pattern: " ^[^,\\\\\\s]+$"
          type: string
          description: "Unique Identifier. Commas, backslashes or whitespace characters\
            \ are forbidden"
        label:
          type: string
          description: Localized label
        extract:
          type: string
          description: Extract. Identifier which is used as part of the url.
      example:
        extract: extract
        id: id
        label: label
    Content:
      type: object
    ContentPage:
      required:
        - label
        - template
      type: object
      properties:
        template:
          type: string
          description: The name of the template used in FirstSpirit
        visible:
          type: boolean
          description: Defines visibility of a page.
        label:
          type: string
          description: Localized label
        parentId:
          type: string
          description: Content Id of the parent page
        nextSiblingId:
          type: string
          description: Content Id of the next sibling page
    IdProviding:
      required:
        - id
      type: object
      properties:
        id:
          pattern: " ^[^,\\\\\\s]+$"
          type: string
          description: "Unique Identifier. Commas, backslashes or whitespace characters\
            \ are forbidden"
      example:
        id: id
    IdentifierObject:
      required:
        - id
        - type
      type: object
      properties:
        id:
          pattern: " ^[^,\\\\\\s]+$"
          type: string
          description: "Unique Identifier. Commas, backslashes or whitespace characters\
            \ are forbidden"
        type:
          type: string
          description: Page Type
          enum:
            - category
            - product
            - contentpage
        lang:
          type: string
          description: Language to localize the label
      example:
        id: id
        type: category
        lang: lang
    Product:
      required:
        - id
        - label
      type: object
      properties:
        id:
          pattern: " ^[^,\\\\\\s]+$"
          type: string
          description: "Unique Identifier. Commas, backslashes or whitespace characters\
            \ are forbidden"
        label:
          type: string
          description: Localized label
        extract:
          type: string
          description: Extract. Identifier which is used as part of the url.
        image:
          type: string
          description: Image URL
          format: url
        thumbnail:
          type: string
          description: Thumbnail URL
          format: url
      example:
        image: http://example.com/aeiou
        thumbnail: http://example.com/aeiou
        extract: extract
        id: id
        label: label
    StorefrontUrl:
      type: object
      properties:
        url:
          type: string
          description: Storefront URL
          format: url
      example:
        url: http://example.com/aeiou
  responses:
    UnauthorizedError:
      description: Authentication information is missing or invalid
      headers:
        WWW_Authenticate:
          style: simple
          explode: false
          schema:
            type: string
    NotFoundError:
      description: Requested resource can not be found
  parameters:
    type:
      name: type
      in: query
      description: Page Type
      required: true
      style: form
      explode: true
      schema:
        type: string
        enum:
          - category
          - product
          - content
    id:
      name: id
      in: query
      description: Unique Identifier
      required: true
      style: form
      explode: true
      schema:
        pattern: "^[^,\\\\\\s]+$"
        type: string
    lang:
      name: lang
      in: query
      description: The language to localize the label
      required: false
      style: form
      explode: true
      schema:
        type: string
      example: EN
    page:
      name: page
      in: query
      description: Specific result page
      required: false
      style: form
      explode: true
      schema:
        minimum: 1
        type: integer
        default: 1
    query:
      name: q
      in: query
      description: Fulltext search query string
      required: false
      style: form
      explode: true
      schema:
        type: string
      example: page
    contentIds:
      name: contentIds
      in: path
      description: Get one or more content pages by contentIds (comma-separated)
      required: true
      style: simple
      explode: false
      schema:
        type: array
        items:
          type: string
      example:
        - homepage
        - my-custom-page
    productIds:
      name: productIds
      in: path
      description: Get one or more products by productIds (comma-separated)
      required: true
      style: simple
      explode: false
      schema:
        type: array
        items:
          type: string
      example:
        - prod-1
        - prod-2
    categoryIds:
      name: categoryIds
      in: path
      description: Get one or more categories by their categoryIds (comma-separated).
      required: true
      style: simple
      explode: false
      schema:
        type: array
        items:
          type: string
      example:
        - cat-1
        - cat-2
    url:
      name: url
      in: query
      description: Storefront Url
      required: true
      style: form
      explode: true
      schema:
        type: string
        format: url
      example: https://mycommerce.com/catalog/category-1-1/prod-x
  examples:
    StorefrontUrl:
      summary: Product Storefront URL
      value:
        url: https://mycommerce.com/catalog/category-1-1/prod-x
    UrlNotFound:
      summary: URL not found in Storefront
    Categories:
      summary: Categories
      value:
        - id: category-1
          label: Electronics
        - id: category-2
          label: Cameras
        - id: category-3
          label: Accessories
        - id: category-4
          label: Headphones
    CategoryListById:
      summary: Category List
      value:
        - id: cat-1
          label: Electronics
        - id: cat-2
          label: Cameras
    CategoryTree:
      summary: Category Tree
      value:
        id: category-1
        label: Category 1
        children:
          - id: category-1-1
            label: Category 1.1
          - id: category-1-2
            label: Category 1.1
            children:
              - id: category-1-2-1
                label: Category 1.2.1
    ContentPageListById:
      summary: Content Page List By Id
      value:
        - id: homepage
          label: Homepage
          extract: /homepage/
        - id: my-custom-page
          label: My Custom Page
          extract: /my-custom-page/
    ContentPageList:
      summary: Content Page List
      value:
        - id: homepage
          label: Homepage
          extract: /homepage/
        - id: my-custom-page
          label: My Custom Page
          extract: /my-custom-page/
        - id: my-custom-page-x
          label: My Custom Page X
          extract: /my-custom-page-x/
        - id: landingpage
          label: Landing Page
          extract: /landingpage/
    ContentPage:
      summary: Content Page
      value:
        template: content
        visible: true
        label: Homepage
        parentId: null
        nextSiblingId: null
    ContentPageResponse:
      summary: Content Page
      value:
        id: content-3
    ProductPage:
      summary: Product Page
      value:
        type: product
        id: prod-3
        lang: EN
    ProductListById:
      summary: Product List
      value:
        - id: prod-1
          label: Sony Legria
          extract: Camera
          image: https://mycommerce/prod-1/540/960
          thumbnail: https://mycommerce/prod-1/160/120
        - id: prod-2
          label: Canon EOS
          extract: Camera
          image: https://mycommerce/prod-2/540/960
          thumbnail: https://mycommerce/prod-2/160/120
    ProductList:
      summary: Product List
      value:
        - id: prod-1
          label: Sony Legria
          extract: Camera
          image: https://mycommerce/prod-1/540/960
          thumbnail: https://mycommerce/prod-1/160/120
        - id: prod-2
          label: Canon EOS
          extract: Camera
          image: https://mycommerce/prod-2/540/960
          thumbnail: https://mycommerce/prod-2/160/120
        - id: prod-3
          label: PowerShot A480
          extract: Camera
          image: https://mycommerce/prod-3/540/960
          thumbnail: https://mycommerce/prod-3/160/120
        - id: prod-4
          label: Gigashot K80H
          extract: Camera
          image: https://mycommerce/prod-4/540/960
          thumbnail: https://mycommerce/prod-4/160/120
    NotExist:
      summary: Does not exist in Storefront
  headers:
    total:
      description: Number of total items
      style: simple
      explode: false
      schema:
        type: integer
    hasNext:
      description: "Is `true`, if one more pages exist"
      style: simple
      explode: false
      schema:
        type: boolean
  securitySchemes:
    basicAuth:
      type: http
      scheme: basic
